"use strict";var path=require("path"),loaderUtils=require("loader-utils"),hashSum=require("hash-sum"),fs=require("fs"),sourceMap=require("source-map"),toString=Object.prototype.toString,showLog=!1,OBJECT_STRING="[object Object]",REGEXP_LINE=/\r?\n/g;function extend(e){for(var r=arguments.length,t=Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];if("function"==typeof Object.assign)Object.assign.apply(Object,[e].concat(t));else{var o=t.shift();for(var i in o)e[i]=o[i];t.length&&extend.apply(void 0,[e].concat(t))}return e}function merge(r){for(var e=arguments.length,t=Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t.length&&t.forEach(function(e){r=r.concat(e)}),r}function hyphenedToCamelCase(e){return e.replace(/-([a-z])/g,function(e,r){return r.toUpperCase()})}function camelCaseToHyphened(e){return e.replace(/([A-Z])/g,function(e,r){return"-"+r.toLowerCase()})}function getNameByPath(e){return path.basename(e).replace(/\..*$/,"")}function getFileNameWithHash(e,r){var t=path.relative(".",e);return"./"+t+"?"+hashSum(t+r)}function isEmptyObject(e){if(!e)return!0;var r;for(r in e)return!1;return!0}function isPlainObject(e){return toString.call(e)===OBJECT_STRING}function loadBabelModule(e){var r=path.resolve(__dirname,"..","node_modules",e);return fs.existsSync(r)?r:(r=path.resolve(__dirname,"..","..",e),fs.existsSync(r)?r:e)}function getFilenameByPath(e){return path.relative(".",e)}function stringifyFunction(e,r){return"function"==typeof r?exports.FUNC_START+r.toString()+exports.FUNC_END:r}function logWarn(t,e){e&&0<e.length&&e.forEach(function(e){var r;r=e.filePath?e.reason+"\n @ "+e.filePath+"\n":e.reason+"\n @ "+t.resourcePath+"\n",e.reason.startsWith("ERROR")?t.emitError(r):t.emitWarning(r)})}function makeRequireString(e,r,t){return"require("+loaderUtils.stringifyRequest(e,r?"!!"+r+"!"+t:""+t)+")\n"}function stringifyLoaders(e){return e.map(function(e){if("string"==typeof e)return e;var r=e.name,t=[];if(e.query)for(var n in e.query){var o=e.query[n];if(null!=o)if(!0===o)t.push(n);else if(o instanceof Array)for(var i in o)t.push(n+"[]="+o[i]);else t.push(n+"="+o)}return t.length?r+"?"+t.join("&"):r}).join("!")}function generateMap(e,r,t){var n=getFileNameWithHash(e.resourcePath),o=path.resolve("."),i=new sourceMap.SourceMapGenerator({sourceRoot:o,skipValidation:!0});i.setSourceContent(n,r);var a=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i.addMapping({source:n,original:c.value.original,generated:c.value.generated})}catch(e){s=!0,u=e}finally{try{!a&&p.return&&p.return()}finally{if(s)throw u}}return i}function consumeMap(e,r,t){var n=new sourceMap.SourceMapConsumer(t),o=void 0,i=[],a=[],s={};return splitSourceLine(r).forEach(function(e,r){r+=1;var t=n.originalPositionFor({line:r,column:0});t.source&&(o=t.source,i.push({line:t.line,column:t.column}),a.push({line:r,column:0}),s["line-"+r+"-column-0"]={line:t.line,column:t.column})}),{source:o,original:i,generated:a,mapping:s,sourcesContent:n.sourcesContent}}function mkdirsSync(e){if(!fs.existsSync(e))return!fs.existsSync(path.dirname(e))&&mkdirsSync(path.dirname(e))?void print("mkdirSync err : "+e):fs.mkdirSync(e)}function splitSourceLine(e){return e.split(REGEXP_LINE)}function print(e){if(showLog){var r="";if("string"==typeof e)r="######### "+e+" #########";else for(var t in e)r+="######### "+t+" : "+e[t]+" #########\n";console.log(r)}}function splitAttr(t,e,r){var n=e.split(/\s+/);if(n)switch(n.length){case 1:r.forEach(function(e){t[e]=n[0]});break;case 2:r.forEach(function(e,r){t[e]=r%2?n[1]:n[0]});break;case 3:r.forEach(function(e,r){t[e]=r%2?n[1]:n[r]});break;default:r.forEach(function(e,r){t[e]=n[r]})}}function isValidValue(e){return"number"==typeof e||"string"==typeof e}function equals(e,r,t){if(t){for(var n=arguments.length,o=Array(3<n?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];if(t.apply(void 0,[e,r].concat(o)))return!0}var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(r))return!1;if("[object Null]"===a||"[object Undefined]"===a)return!0;if("[object Object]"!==a&&"[object Array]"!==a)return Object(e).toString()===Object(r).toString();var s={};Object.keys(e).forEach(function(e){return s[e]=!0}),Object.keys(r).forEach(function(e){return s[e]=!0});for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];if(!equals(e[l],r[l],t,l))return!1}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FUNC_START="#####FUNC_START#####",exports.FUNC_END="#####FUNC_END#####",exports.FUNC_START_REG=new RegExp("[\"']"+exports.FUNC_START,"g"),exports.FUNC_END_REG=new RegExp(exports.FUNC_END+"[\"']","g"),exports.extend=extend,exports.merge=merge,exports.hyphenedToCamelCase=hyphenedToCamelCase,exports.camelCaseToHyphened=camelCaseToHyphened,exports.getNameByPath=getNameByPath,exports.getFileNameWithHash=getFileNameWithHash,exports.isEmptyObject=isEmptyObject,exports.isPlainObject=isPlainObject,exports.loadBabelModule=loadBabelModule,exports.getFilenameByPath=getFilenameByPath,exports.stringifyFunction=stringifyFunction,exports.logWarn=logWarn,exports.makeRequireString=makeRequireString,exports.stringifyLoaders=stringifyLoaders,exports.generateMap=generateMap,exports.consumeMap=consumeMap,exports.mkdirsSync=mkdirsSync,exports.splitSourceLine=splitSourceLine,exports.print=print,exports.splitAttr=splitAttr,exports.isValidValue=isValidValue,exports.equals=equals;