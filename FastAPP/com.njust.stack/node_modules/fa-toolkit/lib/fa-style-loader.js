"use strict";var _utils=require("./utils"),_parser=require("./parser");module.exports=function(s,t,e){var r=this;this.cacheable&&this.cacheable();var i=this.async(),a=this.options.versionNum,n=this.options.widgetsPathList;_parser.parseStyle({code:s,query:e,versionNum:a,widgetsPathList:n}).then(function(s){var t=s.parsed,e=s.log;e&&0<e.length&&_utils.logWarn(r,e),i(null,t)}).catch(function(s){_utils.logWarn(r,[{reason:"ERROR: Style parsing error: "+s}]),i(null,"{}")})};