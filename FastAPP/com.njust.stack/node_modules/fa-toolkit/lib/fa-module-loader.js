"use strict";var _utils=require("./utils"),_shared=require("./shared");module.exports=function(r){var e=_shared.updateSourceScript(r);r=e.fileCont,_utils.logWarn(this,e.logFeatureList);var a=r.match(/require\s*\(['"]@(system|service|card|android|hap)([^()'"\s]*)['"]\)/g);a&&0<a.length&&a.forEach(function(e){r=r.replace(e,e.replace("require","$app_require$").replace("@","@app-module/"))});var t=r.match(/import\s+([^()'";]+)\s+from\s+['"]@(system|service|card|android|hap)([^()'"\s]*)['"]/g);return t&&0<t.length&&t.forEach(function(e){r=r.replace(e,e.replace("import","var").replace("from","= $app_require$(").replace("@","@app-module/")+");")}),r};