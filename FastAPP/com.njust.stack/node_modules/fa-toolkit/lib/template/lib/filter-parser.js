"use strict";var validDivisionCharRE=/[\w).+\-_$\]]/;function parseFilters(e){var r,a,i,c,s,t=!1,o=!1,l=!1,n=!1,f=0,h=0,v=0,d=0;for(i=0;i<e.length;i++)if(a=r,r=e.charCodeAt(i),t)39===r&&92!==a&&(t=!1);else if(o)34===r&&92!==a&&(o=!1);else if(l)96===r&&92!==a&&(l=!1);else if(n)47===r&&92!==a&&(n=!1);else if(124!==r||124===e.charCodeAt(i+1)||124===e.charCodeAt(i-1)||f||h||v){switch(r){case 34:o=!0;break;case 39:t=!0;break;case 96:l=!0;break;case 40:v++;break;case 41:v--;break;case 91:h++;break;case 93:h--;break;case 123:f++;break;case 125:f--}if(47===r){for(var u=i-1,b=void 0;0<=u&&" "===(b=e.charAt(u));u--);b&&validDivisionCharRE.test(b)||(n=!0)}}else void 0===c?(d=i+1,c=e.slice(0,i).trim()):k();function k(){(s||(s=[])).push(e.slice(d,i).trim()),d=i+1}if(void 0===c?c=e.slice(0,i).trim():0!==d&&k(),s)for(i=0;i<s.length;i++)c=wrapFilter(c,s[i]);return c}function wrapFilter(e,r){var a=r.indexOf("(");if(a<0)return"this.".concat(r,"(").concat(e,")");var i=r.slice(0,a),c=r.slice(a+1);return"this.".concat(i,"(").concat(e).concat(")"!==c?","+c:c)}module.exports=parseFilters;